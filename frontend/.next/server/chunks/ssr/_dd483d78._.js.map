{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/TiendaServicioErick/frontend/componentes/PaginaCliente.tsx"],"sourcesContent":["\"use client\";\n\nimport { Cliente } from \"@/modelo/cliente\";\n\ninterface Props {\n  clientes: Cliente[];\n  setMostrarModalCliente: (valor: boolean) => void;\n  setClienteSeleccionado: (cliente: Cliente | null) => void;\n}\n\nexport default function PaginaCliente({\n  clientes,\n  setMostrarModalCliente,\n  setClienteSeleccionado,\n}: Props) {\n  return (\n    <div className=\"p-8 bg-white rounded-2xl shadow-lg max-w-6xl mx-auto mt-10\">\n      <div className=\"flex justify-between items-center mb-8\">\n        <h1 className=\"text-4xl font-extrabold text-gray-800\">Gestión de Clientes</h1>\n        <button\n          onClick={() => {\n            setClienteSeleccionado(null);\n            setMostrarModalCliente(true);\n          }}\n          className=\"px-5 py-2 bg-blue-600 text-white rounded-md shadow hover:bg-blue-700 transition\"\n        >\n          Nuevo Cliente\n        </button>\n      </div>\n\n      {clientes.length === 0 ? (\n        <p className=\"text-gray-600 text-center\">No hay clientes registrados.</p>\n      ) : (\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full text-sm text-left text-gray-700\">\n            <thead className=\"bg-gray-100 border-b\">\n              <tr>\n                <th className=\"px-6 py-3 font-semibold uppercase tracking-wide\">Nombres</th>\n                <th className=\"px-6 py-3 font-semibold uppercase tracking-wide\">Apellidos</th>\n                <th className=\"px-6 py-3 font-semibold uppercase tracking-wide\">Tipo de Cliente</th>\n                <th className=\"px-6 py-3 font-semibold uppercase tracking-wide text-center\">Acciones</th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y divide-gray-200\">\n              {clientes.map((cliente) => (\n                <tr key={cliente.id} className=\"hover:bg-gray-50\">\n                  <td className=\"px-6 py-4 whitespace-nowrap\">{cliente.persona?.nombres}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">{cliente.persona?.apellidos}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap\">{cliente.tipo_cliente}</td>\n                  <td className=\"px-6 py-4 whitespace-nowrap text-center\">\n                    <button\n                      onClick={() => {\n                        setClienteSeleccionado(cliente);\n                        setMostrarModalCliente(true);\n                      }}\n                      className=\"px-4 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition\"\n                    >\n                      Editar\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;;AAUe,SAAS,cAAc,EACpC,QAAQ,EACR,sBAAsB,EACtB,sBAAsB,EAChB;IACN,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAAwC;;;;;;kCACtD,8OAAC;wBACC,SAAS;4BACP,uBAAuB;4BACvB,uBAAuB;wBACzB;wBACA,WAAU;kCACX;;;;;;;;;;;;YAKF,SAAS,MAAM,KAAK,kBACnB,8OAAC;gBAAE,WAAU;0BAA4B;;;;;qCAEzC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAM,WAAU;;sCACf,8OAAC;4BAAM,WAAU;sCACf,cAAA,8OAAC;;kDACC,8OAAC;wCAAG,WAAU;kDAAkD;;;;;;kDAChE,8OAAC;wCAAG,WAAU;kDAAkD;;;;;;kDAChE,8OAAC;wCAAG,WAAU;kDAAkD;;;;;;kDAChE,8OAAC;wCAAG,WAAU;kDAA8D;;;;;;;;;;;;;;;;;sCAGhF,8OAAC;4BAAM,WAAU;sCACd,SAAS,GAAG,CAAC,CAAC,wBACb,8OAAC;oCAAoB,WAAU;;sDAC7B,8OAAC;4CAAG,WAAU;sDAA+B,QAAQ,OAAO,EAAE;;;;;;sDAC9D,8OAAC;4CAAG,WAAU;sDAA+B,QAAQ,OAAO,EAAE;;;;;;sDAC9D,8OAAC;4CAAG,WAAU;sDAA+B,QAAQ,YAAY;;;;;;sDACjE,8OAAC;4CAAG,WAAU;sDACZ,cAAA,8OAAC;gDACC,SAAS;oDACP,uBAAuB;oDACvB,uBAAuB;gDACzB;gDACA,WAAU;0DACX;;;;;;;;;;;;mCAXI,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuBnC","debugId":null}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///D:/TiendaServicioErick/frontend/componentes/ModalCliente.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { Cliente } from \"@/modelo/cliente\";\nimport { Persona } from \"@/modelo/persona\";\n\n// ✅ Tipo personalizado para el formulario\ntype ClienteFormulario = {\n  tipo_cliente: string;\n  id_persona: number;\n  persona: {\n    dni: string;\n    nombres: string;\n    apellidos: string;\n    correo_personal: string;\n  };\n};\n\ninterface Props {\n  cliente: Cliente | null;\n  cerrar: () => void;\n  grabar: (cliente: Cliente | Omit<Cliente, \"id\">) => Promise<void>;\n}\n\nexport default function ModalCliente({ cliente, cerrar, grabar }: Props) {\n  const [formulario, setFormulario] = useState<ClienteFormulario>({\n    tipo_cliente: \"\",\n    id_persona: 0,\n    persona: {\n      dni: \"\",\n      nombres: \"\",\n      apellidos: \"\",\n      correo_personal: \"\",\n    },\n  });\n\n  useEffect(() => {\n    if (cliente) {\n      const { id, ...resto } = cliente;\n      setFormulario(resto as ClienteFormulario);\n    }\n  }, [cliente]);\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n\n    if ([\"dni\", \"nombres\", \"apellidos\", \"correo_personal\"].includes(name)) {\n      setFormulario((prev) => ({\n        ...prev,\n        persona: {\n          ...prev.persona,\n          [name]: value,\n        },\n      }));\n    } else {\n      setFormulario((prev) => ({ ...prev, [name]: value }));\n    }\n  };\n\n  const enviarFormulario = async (e: React.FormEvent) => {\n    e.preventDefault();\n    const datos = cliente ? { ...formulario, id: cliente.id } : formulario;\n    await grabar(datos);\n    cerrar();\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div className=\"bg-white p-6 rounded-lg shadow-xl w-full max-w-md\">\n        <h2 className=\"text-2xl font-bold mb-4 text-gray-800\">\n          {cliente ? \"Editar Cliente\" : \"Registrar Nuevo Cliente\"}\n        </h2>\n\n        <form onSubmit={enviarFormulario} className=\"space-y-4\">\n          {[ \n            { id: \"dni\", label: \"DNI\", value: formulario.persona.dni },\n            { id: \"nombres\", label: \"Nombres\", value: formulario.persona.nombres },\n            { id: \"apellidos\", label: \"Apellidos\", value: formulario.persona.apellidos },\n            { id: \"correo_personal\", label: \"Correo\", value: formulario.persona.correo_personal },\n          ].map(({ id, label, value }) => (\n            <div key={id}>\n              <label htmlFor={id} className=\"block text-sm font-medium text-gray-700\">\n                {label}\n              </label>\n              <input\n                type=\"text\"\n                id={id}\n                name={id}\n                value={value}\n                onChange={handleChange}\n                required\n                className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            </div>\n          ))}\n\n          <div>\n            <label htmlFor=\"tipo_cliente\" className=\"block text-sm font-medium text-gray-700\">\n              Tipo de Cliente\n            </label>\n            <input\n              type=\"text\"\n              id=\"tipo_cliente\"\n              name=\"tipo_cliente\"\n              value={formulario.tipo_cliente}\n              onChange={handleChange}\n              required\n              className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-blue-500 focus:border-blue-500\"\n            />\n          </div>\n\n          <div className=\"flex justify-end space-x-3\">\n            <button\n              type=\"button\"\n              onClick={cerrar}\n              className=\"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500\"\n            >\n              Cancelar\n            </button>\n            <button\n              type=\"submit\"\n              className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            >\n              Guardar\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAwBe,SAAS,aAAa,EAAE,OAAO,EAAE,MAAM,EAAE,MAAM,EAAS;IACrE,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAqB;QAC9D,cAAc;QACd,YAAY;QACZ,SAAS;YACP,KAAK;YACL,SAAS;YACT,WAAW;YACX,iBAAiB;QACnB;IACF;IAEA,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,SAAS;YACX,MAAM,EAAE,EAAE,EAAE,GAAG,OAAO,GAAG;YACzB,cAAc;QAChB;IACF,GAAG;QAAC;KAAQ;IAEZ,MAAM,eAAe,CAAC;QACpB,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM;QAEhC,IAAI;YAAC;YAAO;YAAW;YAAa;SAAkB,CAAC,QAAQ,CAAC,OAAO;YACrE,cAAc,CAAC,OAAS,CAAC;oBACvB,GAAG,IAAI;oBACP,SAAS;wBACP,GAAG,KAAK,OAAO;wBACf,CAAC,KAAK,EAAE;oBACV;gBACF,CAAC;QACH,OAAO;YACL,cAAc,CAAC,OAAS,CAAC;oBAAE,GAAG,IAAI;oBAAE,CAAC,KAAK,EAAE;gBAAM,CAAC;QACrD;IACF;IAEA,MAAM,mBAAmB,OAAO;QAC9B,EAAE,cAAc;QAChB,MAAM,QAAQ,UAAU;YAAE,GAAG,UAAU;YAAE,IAAI,QAAQ,EAAE;QAAC,IAAI;QAC5D,MAAM,OAAO;QACb;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BACX,UAAU,mBAAmB;;;;;;8BAGhC,8OAAC;oBAAK,UAAU;oBAAkB,WAAU;;wBACzC;4BACC;gCAAE,IAAI;gCAAO,OAAO;gCAAO,OAAO,WAAW,OAAO,CAAC,GAAG;4BAAC;4BACzD;gCAAE,IAAI;gCAAW,OAAO;gCAAW,OAAO,WAAW,OAAO,CAAC,OAAO;4BAAC;4BACrE;gCAAE,IAAI;gCAAa,OAAO;gCAAa,OAAO,WAAW,OAAO,CAAC,SAAS;4BAAC;4BAC3E;gCAAE,IAAI;gCAAmB,OAAO;gCAAU,OAAO,WAAW,OAAO,CAAC,eAAe;4BAAC;yBACrF,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,KAAK,EAAE,KAAK,EAAE,iBACzB,8OAAC;;kDACC,8OAAC;wCAAM,SAAS;wCAAI,WAAU;kDAC3B;;;;;;kDAEH,8OAAC;wCACC,MAAK;wCACL,IAAI;wCACJ,MAAM;wCACN,OAAO;wCACP,UAAU;wCACV,QAAQ;wCACR,WAAU;;;;;;;+BAXJ;;;;;sCAgBZ,8OAAC;;8CACC,8OAAC;oCAAM,SAAQ;oCAAe,WAAU;8CAA0C;;;;;;8CAGlF,8OAAC;oCACC,MAAK;oCACL,IAAG;oCACH,MAAK;oCACL,OAAO,WAAW,YAAY;oCAC9B,UAAU;oCACV,QAAQ;oCACR,WAAU;;;;;;;;;;;;sCAId,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,MAAK;oCACL,SAAS;oCACT,WAAU;8CACX;;;;;;8CAGD,8OAAC;oCACC,MAAK;oCACL,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQb","debugId":null}},
    {"offset": {"line": 396, "column": 0}, "map": {"version":3,"sources":["file:///D:/TiendaServicioErick/frontend/hooks/useCliente.ts"],"sourcesContent":["import { useEffect, useState, useCallback } from \"react\";\nimport { Cliente } from \"@/modelo/cliente\";\n\nexport function useCliente() {\n  const [clientes, setClientes] = useState<Cliente[]>([]);\n  const [cargando, setCargando] = useState<boolean>(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // Obtener todos los clientes\n  const cargarClientes = useCallback(async () => {\n    try {\n      setCargando(true);\n      const res = await fetch(\"http://localhost:3001/clientes\"); // o el endpoint real en AWS\n      if (!res.ok) throw new Error(\"Error al cargar los clientes.\");\n      const data = await res.json();\n      setClientes(data);\n    } catch (err: any) {\n      console.error(err);\n      setError(err.message || \"Error desconocido\");\n    } finally {\n      setCargando(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    cargarClientes();\n  }, [cargarClientes]);\n\n  // Agregar o actualizar cliente\n  const grabar = async (cliente: Cliente | Omit<Cliente, \"id\">) => {\n    try {\n      const esNuevo = !(\"id\" in cliente);\n      const metodo = esNuevo ? \"POST\" : \"PUT\";\n      const url = esNuevo\n        ? \"/api/clientes\"\n        : `/api/clientes/${cliente.id}`;\n\n      const res = await fetch(url, {\n        method: metodo,\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(cliente),\n      });\n\n      if (!res.ok) throw new Error(\"Error al guardar el cliente.\");\n      const nuevoCliente = await res.json();\n\n      setClientes((prev) =>\n        esNuevo\n          ? [...prev, nuevoCliente]\n          : prev.map((c) => (c.id === nuevoCliente.id ? nuevoCliente : c))\n      );\n    } catch (err: any) {\n      console.error(err);\n      setError(err.message || \"Error desconocido\");\n    }\n  };\n\n  return {\n    clientes,\n    cargando,\n    error,\n    grabar,\n    recargar: cargarClientes,\n    setClientes,\n  };\n}"],"names":[],"mappings":";;;AAAA;;AAGO,SAAS;IACd,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAa,EAAE;IACtD,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAW;IAClD,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,6BAA6B;IAC7B,MAAM,iBAAiB,CAAA,GAAA,qMAAA,CAAA,cAAW,AAAD,EAAE;QACjC,IAAI;YACF,YAAY;YACZ,MAAM,MAAM,MAAM,MAAM,mCAAmC,4BAA4B;YACvF,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;YAC7B,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,YAAY;QACd,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC;YACd,SAAS,IAAI,OAAO,IAAI;QAC1B,SAAU;YACR,YAAY;QACd;IACF,GAAG,EAAE;IAEL,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR;IACF,GAAG;QAAC;KAAe;IAEnB,+BAA+B;IAC/B,MAAM,SAAS,OAAO;QACpB,IAAI;YACF,MAAM,UAAU,CAAC,CAAC,QAAQ,OAAO;YACjC,MAAM,SAAS,UAAU,SAAS;YAClC,MAAM,MAAM,UACR,kBACA,CAAC,cAAc,EAAE,QAAQ,EAAE,EAAE;YAEjC,MAAM,MAAM,MAAM,MAAM,KAAK;gBAC3B,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;YAC7B,MAAM,eAAe,MAAM,IAAI,IAAI;YAEnC,YAAY,CAAC,OACX,UACI;uBAAI;oBAAM;iBAAa,GACvB,KAAK,GAAG,CAAC,CAAC,IAAO,EAAE,EAAE,KAAK,aAAa,EAAE,GAAG,eAAe;QAEnE,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC;YACd,SAAS,IAAI,OAAO,IAAI;QAC1B;IACF;IAEA,OAAO;QACL;QACA;QACA;QACA;QACA,UAAU;QACV;IACF;AACF","debugId":null}},
    {"offset": {"line": 464, "column": 0}, "map": {"version":3,"sources":["file:///D:/TiendaServicioErick/frontend/app/clientes/page.tsx"],"sourcesContent":["\"use client\";\n\nimport PaginaCliente from \"@/componentes/PaginaCliente\";\nimport ModalCliente from \"@/componentes/ModalCliente\";\nimport { useCliente } from \"@/hooks/useCliente\";\nimport { useState } from \"react\";\nimport { Cliente } from \"@/modelo/cliente\";\n\nexport default function PaginaClientesApp() {\n  const { clientes, grabar, cargando } = useCliente();\n  const [mostrarModal, setMostrarModal] = useState(false);\n  const [clienteSeleccionado, setClienteSeleccionado] = useState<Cliente | null>(null);\n\n  const grabarCliente = async (cliente: Cliente | Omit<Cliente, \"id\">) => {\n    await grabar(cliente);\n    setMostrarModal(false);\n  };\n\n  return (\n    <div>\n      <h1 className=\"text-2xl font-bold mb-4\">Gestión de Clientes</h1>\n\n      {cargando ? (\n        <p className=\"text-gray-500\">Cargando clientes...</p>\n      ) : (\n        <>\n          <PaginaCliente\n            clientes={clientes}\n            setMostrarModalCliente={setMostrarModal}\n            setClienteSeleccionado={setClienteSeleccionado}\n          />\n          {mostrarModal && (\n            <ModalCliente\n              cliente={clienteSeleccionado}\n              cerrar={() => setMostrarModal(false)}\n              grabar={grabarCliente}\n            />\n          )}\n        </>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AACA;AALA;;;;;;AAQe,SAAS;IACtB,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG,CAAA,GAAA,mHAAA,CAAA,aAAU,AAAD;IAChD,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,qBAAqB,uBAAuB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAkB;IAE/E,MAAM,gBAAgB,OAAO;QAC3B,MAAM,OAAO;QACb,gBAAgB;IAClB;IAEA,qBACE,8OAAC;;0BACC,8OAAC;gBAAG,WAAU;0BAA0B;;;;;;YAEvC,yBACC,8OAAC;gBAAE,WAAU;0BAAgB;;;;;qCAE7B;;kCACE,8OAAC,6HAAA,CAAA,UAAa;wBACZ,UAAU;wBACV,wBAAwB;wBACxB,wBAAwB;;;;;;oBAEzB,8BACC,8OAAC,4HAAA,CAAA,UAAY;wBACX,SAAS;wBACT,QAAQ,IAAM,gBAAgB;wBAC9B,QAAQ;;;;;;;;;;;;;;AAOtB","debugId":null}},
    {"offset": {"line": 537, "column": 0}, "map": {"version":3,"sources":["file:///D:/TiendaServicioErick/frontend/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = require('../../module.compiled').vendored[\n  'react-ssr'\n].ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":";AAAAA,OAAOC,OAAO,GAAGC,QAAQ,4HAAyBC,QAAQ,CACxD,YACD,CAACC,kBAAkB","ignoreList":[0],"debugId":null}}]
}